{"version":3,"sources":["TextInputState.js"],"names":["Platform","require","UIManager","currentlyFocusedID","inputs","Set","currentlyFocusedField","focusField","textFieldID","blurField","focusTextInput","OS","focus","dispatchViewManagerCommand","getViewManagerConfig","Commands","blurTextInput","blur","registerInput","add","unregisterInput","delete","isTextInput","has","module","exports"],"mappings":"AAcA;;AAEA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,0BAAD,CAAxB;;AACA,IAAMC,SAAS,GAAGD,OAAO,CAAC,6BAAD,CAAzB;;AAEA,IAAIE,kBAA2B,GAAG,IAAlC;AACA,IAAMC,MAAM,GAAG,IAAIC,GAAJ,EAAf;;AAMA,SAASC,qBAAT,GAA0C;AACxC,SAAOH,kBAAP;AACD;;AAED,SAASI,UAAT,CAAoBC,WAApB,EAAgD;AAC9C,MAAIL,kBAAkB,KAAKK,WAAvB,IAAsCA,WAAW,IAAI,IAAzD,EAA+D;AAC7DL,IAAAA,kBAAkB,GAAGK,WAArB;AACD;AACF;;AAED,SAASC,SAAT,CAAmBD,WAAnB,EAAyC;AACvC,MAAIL,kBAAkB,KAAKK,WAAvB,IAAsCA,WAAW,IAAI,IAAzD,EAA+D;AAC7DL,IAAAA,kBAAkB,GAAG,IAArB;AACD;AACF;;AAOD,SAASO,cAAT,CAAwBF,WAAxB,EAA8C;AAC5C,MAAIL,kBAAkB,KAAKK,WAAvB,IAAsCA,WAAW,IAAI,IAAzD,EAA+D;AAC7DD,IAAAA,UAAU,CAACC,WAAD,CAAV;;AACA,QAAIR,QAAQ,CAACW,EAAT,KAAgB,KAApB,EAA2B;AACzBT,MAAAA,SAAS,CAACU,KAAV,CAAgBJ,WAAhB;AACD,KAFD,MAEO,IAAIR,QAAQ,CAACW,EAAT,KAAgB,SAApB,EAA+B;AACpCT,MAAAA,SAAS,CAACW,0BAAV,CACEL,WADF,EAEEN,SAAS,CAACY,oBAAV,CAA+B,kBAA/B,EAAmDC,QAAnD,CACGL,cAHL,EAIE,IAJF;AAMD;AACF;AACF;;AAOD,SAASM,aAAT,CAAuBR,WAAvB,EAA6C;AAC3C,MAAIL,kBAAkB,KAAKK,WAAvB,IAAsCA,WAAW,IAAI,IAAzD,EAA+D;AAC7DC,IAAAA,SAAS,CAACD,WAAD,CAAT;;AACA,QAAIR,QAAQ,CAACW,EAAT,KAAgB,KAApB,EAA2B;AACzBT,MAAAA,SAAS,CAACe,IAAV,CAAeT,WAAf;AACD,KAFD,MAEO,IAAIR,QAAQ,CAACW,EAAT,KAAgB,SAApB,EAA+B;AACpCT,MAAAA,SAAS,CAACW,0BAAV,CACEL,WADF,EAEEN,SAAS,CAACY,oBAAV,CAA+B,kBAA/B,EAAmDC,QAAnD,CACGC,aAHL,EAIE,IAJF;AAMD;AACF;AACF;;AAED,SAASE,aAAT,CAAuBV,WAAvB,EAA4C;AAC1CJ,EAAAA,MAAM,CAACe,GAAP,CAAWX,WAAX;AACD;;AAED,SAASY,eAAT,CAAyBZ,WAAzB,EAA8C;AAC5CJ,EAAAA,MAAM,CAACiB,MAAP,CAAcb,WAAd;AACD;;AAED,SAASc,WAAT,CAAqBd,WAArB,EAAmD;AACjD,SAAOJ,MAAM,CAACmB,GAAP,CAAWf,WAAX,CAAP;AACD;;AAEDgB,MAAM,CAACC,OAAP,GAAiB;AACfnB,EAAAA,qBAAqB,EAArBA,qBADe;AAEfC,EAAAA,UAAU,EAAVA,UAFe;AAGfE,EAAAA,SAAS,EAATA,SAHe;AAIfC,EAAAA,cAAc,EAAdA,cAJe;AAKfM,EAAAA,aAAa,EAAbA,aALe;AAMfE,EAAAA,aAAa,EAAbA,aANe;AAOfE,EAAAA,eAAe,EAAfA,eAPe;AAQfE,EAAAA,WAAW,EAAXA;AARe,CAAjB","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\n// This class is responsible for coordinating the \"focused\" state for\n// TextInputs. All calls relating to the keyboard should be funneled\n// through here.\n\n'use strict';\n\nconst Platform = require('../../Utilities/Platform');\nconst UIManager = require('../../ReactNative/UIManager');\n\nlet currentlyFocusedID: ?number = null;\nconst inputs = new Set();\n\n/**\n * Returns the ID of the currently focused text field, if one exists\n * If no text field is focused it returns null\n */\nfunction currentlyFocusedField(): ?number {\n  return currentlyFocusedID;\n}\n\nfunction focusField(textFieldID: ?number): void {\n  if (currentlyFocusedID !== textFieldID && textFieldID != null) {\n    currentlyFocusedID = textFieldID;\n  }\n}\n\nfunction blurField(textFieldID: ?number) {\n  if (currentlyFocusedID === textFieldID && textFieldID != null) {\n    currentlyFocusedID = null;\n  }\n}\n\n/**\n * @param {number} TextInputID id of the text field to focus\n * Focuses the specified text field\n * noop if the text field was already focused\n */\nfunction focusTextInput(textFieldID: ?number) {\n  if (currentlyFocusedID !== textFieldID && textFieldID != null) {\n    focusField(textFieldID);\n    if (Platform.OS === 'ios') {\n      UIManager.focus(textFieldID);\n    } else if (Platform.OS === 'android') {\n      UIManager.dispatchViewManagerCommand(\n        textFieldID,\n        UIManager.getViewManagerConfig('AndroidTextInput').Commands\n          .focusTextInput,\n        null,\n      );\n    }\n  }\n}\n\n/**\n * @param {number} textFieldID id of the text field to unfocus\n * Unfocuses the specified text field\n * noop if it wasn't focused\n */\nfunction blurTextInput(textFieldID: ?number) {\n  if (currentlyFocusedID === textFieldID && textFieldID != null) {\n    blurField(textFieldID);\n    if (Platform.OS === 'ios') {\n      UIManager.blur(textFieldID);\n    } else if (Platform.OS === 'android') {\n      UIManager.dispatchViewManagerCommand(\n        textFieldID,\n        UIManager.getViewManagerConfig('AndroidTextInput').Commands\n          .blurTextInput,\n        null,\n      );\n    }\n  }\n}\n\nfunction registerInput(textFieldID: number) {\n  inputs.add(textFieldID);\n}\n\nfunction unregisterInput(textFieldID: number) {\n  inputs.delete(textFieldID);\n}\n\nfunction isTextInput(textFieldID: number): boolean {\n  return inputs.has(textFieldID);\n}\n\nmodule.exports = {\n  currentlyFocusedField,\n  focusField,\n  blurField,\n  focusTextInput,\n  blurTextInput,\n  registerInput,\n  unregisterInput,\n  isTextInput,\n};\n"]}